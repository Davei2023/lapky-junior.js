import{A as de,S as N,N as j,P as U,R as le,i as d,a as D}from"./assets/vendor-Cus4JT2T.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function o(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(a){if(a.ep)return;a.ep=!0;const r=o(a);fetch(a.href,r)}})();function I(){document.body.style.overflow="hidden"}function q(){document.body.style.overflow=""}function $(e,t=0){if(!e)return;const o=e.getBoundingClientRect().top+window.scrollY-t;window.scrollTo({top:o,behavior:"smooth"})}const g={burgerBtn:document.querySelector(".header-burger-btn"),modalMenu:document.querySelector(".header-modal-menu"),closeBtn:document.querySelector(".header-close-btn"),header:document.querySelector(".header")};let L=!1;function ue(){L||(g.modalMenu.classList.add("is-open"),I(),me(),L=!0)}function E(){L&&(g.modalMenu.classList.remove("is-open"),q(),pe(),L=!1)}function me(){document.addEventListener("keydown",F),document.addEventListener("click",X)}function pe(){document.removeEventListener("keydown",F),document.removeEventListener("click",X)}document.addEventListener("click",fe);function fe(e){const t=e.target.closest('a[href^="#"]');if(!t)return;const o=t.getAttribute("href");if(o==="#")return;const n=document.querySelector(o);if(!n)return;e.preventDefault();const a=g.header?.offsetHeight||0;$(n,a)}function X(e){if(!e.target.closest(".header-modal-menu"))return;const o=e.target.closest(".header-modal-link"),n=e.target.closest(".header-modal-btn"),a=e.target.closest(".icon-header-btn");(o||n||a)&&E()}function F(e){e.key==="Escape"&&E()}g.burgerBtn?.addEventListener("click",ue);g.closeBtn?.addEventListener("click",E);const ge=window.matchMedia("(min-width: 1440px)");ge.addEventListener("change",e=>{e.matches&&E()});const G=document.querySelector('[data-scroll="hero"]'),he=document.querySelector(".header");function ve(e){e.preventDefault();const t=G.getAttribute("href"),o=document.querySelector(t);if(!o)return;const n=he?.offsetHeight||0;$(o,n)}G?.addEventListener("click",ve);new de(".faq-list",{duration:300,showMultiple:!1,openOnInit:[]});function Le(){const e=document.querySelector(".about-swiper");if(!e)return null;const t=window.matchMedia("(max-width: 767.98px)"),o=()=>{const i=t.matches;return{nextEl:i?".about-mob-next":".about-desk-next",prevEl:i?".about-mob-prev":".about-desk-prev",pagEl:i?".about-mob-pagination":".about-desk-pagination"}},n=new N(e,{modules:[j,U],slidesPerView:1,spaceBetween:0,speed:600,navigation:{nextEl:".about-mob-next",prevEl:".about-mob-prev"},pagination:{el:".about-mob-pagination",clickable:!0,type:"bullets"},grabCursor:!0,allowTouchMove:!0,watchOverflow:!0,breakpoints:{768:{},1440:{}}});function a(){if(!n||n.destroyed)return;const{nextEl:i,prevEl:s,pagEl:l}=o(),m=n.params.navigation?.nextEl===i&&n.params.navigation?.prevEl===s,b=n.params.pagination?.el===l;if(m&&b)return;const C=document.querySelector(i),c=document.querySelector(s);C&&c&&(n.params.navigation=n.params.navigation||{},n.params.navigation.nextEl=i,n.params.navigation.prevEl=s,n.navigation.destroy(),n.navigation.init(),n.navigation.update()),document.querySelector(l)&&(n.params.pagination=n.params.pagination||{},n.params.pagination.el=l,n.pagination.destroy(),n.pagination.init(),n.pagination.render(),n.pagination.update()),n.update()}requestAnimationFrame(a);const r=()=>a();return typeof t.addEventListener=="function"?t.addEventListener("change",r):t.addListener(r),window.addEventListener("load",a,{once:!0}),n._destroyAbout=()=>{typeof t.removeEventListener=="function"?t.removeEventListener("change",r):t.removeListener(r),n.destroy(!0,!0)},n}Le();const p=document.getElementById("petModalBackdrop"),V=document.getElementById("petModalContainer"),M=document.getElementById("modalCloseBtn"),K=document.querySelectorAll("[data-modal-adopt]"),P=document.getElementById("modalImageWrapper");document.getElementById("modalImage");const ye=document.getElementById("modalSpecies"),we=document.getElementById("modalName"),Ee=document.getElementById("modalAge"),be=document.getElementById("modalGender"),Ce=document.getElementById("modalDescription"),ke=document.getElementById("modalHealth"),Se=document.getElementById("modalBehavior");let Z=null;function z(e){e.target===p&&h()}function Q(e){e.stopPropagation()}function W(e){e.key==="Escape"&&!p.classList.contains("hidden")&&h()}function J(){h(),openOrderModal(Z)}function Me(e,t){const o=t.get(e);if(!o){console.error("Animal not found:",e);return}Z=e,P.replaceChildren();const n=[o].map(({image:a,name:r})=>`
        <img
          class="modal-image"
          src="${a}"
          alt="${r}"
          loading="lazy"
        />
      `).join("");P.insertAdjacentHTML("afterbegin",n),ye.textContent=o.species,we.textContent=o.name,Ee.textContent=o.age,be.textContent=o.gender,Ce.textContent=o.description||"Інформація відсутня",ke.textContent=o.healthStatus||"Інформація про здоров'я відсутня",Se.textContent=o.behavior||"Інформація про поведінку відсутня",p.classList.remove("hidden"),document.body.classList.add("modal-open"),M.focus(),I(),M.addEventListener("click",h),p.addEventListener("click",z),V.addEventListener("click",Q),document.addEventListener("keydown",W),K.forEach(a=>{a.addEventListener("click",J)})}function h(){p.classList.add("hidden"),document.body.classList.remove("modal-open"),M.removeEventListener("click",h),p.removeEventListener("click",z),V.removeEventListener("click",Q),document.removeEventListener("keydown",W),K.forEach(e=>{e.removeEventListener("click",J)}),q()}const Ae="https://paw-hut.b.goit.study";async function Y(e,t={}){const o=await fetch(`${Ae}${e}`,{headers:{"Content-Type":"application/json"},...t});if(!o.ok){const n=await o.json().catch(()=>({}));throw new Error(n.message||"API error")}return o.json()}function Be({page:e=1,limit:t=10}={}){return Y(`/api/feedbacks?page=${e}&limit=${t}`)}const v=document.getElementById("stories-list");v||console.error("Element #stories-list not found");const xe=new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.0709%203.61234C11.4146%202.79588%2012.5854%202.79589%2012.9291%203.61235L14.9579%208.43123C15.1029%208.77543%2015.4306%209.01061%2015.8067%209.0404L21.0727%209.45748C21.9649%209.52814%2022.3267%2010.6281%2021.6469%2011.2034L17.6348%2014.5987C17.3482%2014.8412%2017.223%2015.2218%2017.3106%2015.5843L18.5363%2020.661C18.744%2021.5211%2017.7969%2022.201%2017.033%2021.7401L12.5245%2019.0196C12.2025%2018.8252%2011.7975%2018.8252%2011.4755%2019.0196L6.96699%2021.7401C6.20311%2022.201%205.25596%2021.5211%205.46363%2020.661L6.68942%2015.5843C6.77698%2015.2218%206.65182%2014.8412%206.36526%2014.5987L2.35306%2011.2034C1.67328%2010.6281%202.03507%209.52814%202.92729%209.45748L8.19336%209.0404C8.5695%209.01061%208.89716%208.77543%209.04207%208.43123L11.0709%203.61234Z'%20fill='%2302060A'/%3e%3c/svg%3e",import.meta.url).href,Ie=new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.0078%204.00098L14.0361%208.81934C14.328%209.51225%2014.9837%209.97813%2015.7275%2010.0371L20.9854%2010.4531L16.9893%2013.835H16.9883C16.4157%2014.3197%2016.1618%2015.086%2016.3389%2015.8193L17.5615%2020.8848C17.5599%2020.8857%2017.5589%2020.8872%2017.5576%2020.8877C17.5559%2020.8869%2017.5532%2020.8858%2017.5498%2020.8838L13.041%2018.1631C12.4014%2017.7772%2011.5986%2017.7772%2010.959%2018.1631L6.4502%2020.8838C6.44677%2020.8858%206.4441%2020.8869%206.44238%2020.8877C6.44085%2020.8871%206.43936%2020.8859%206.4375%2020.8848L7.66113%2015.8193C7.8271%2015.1321%207.61431%2014.416%207.11523%2013.9297L7.01172%2013.835L3.01367%2010.4531L8.27246%2010.0371C9.01627%209.97814%209.67205%209.51246%209.96387%208.81934L11.9912%204.00098C11.9936%204.00054%2011.9966%204%2012%204C12.003%204%2012.0056%204.00062%2012.0078%204.00098Z'%20stroke='%2302060A'%20stroke-width='2'/%3e%3c/svg%3e",import.meta.url).href,qe=new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.5312%203.80664C11.7032%203.39816%2012.2968%203.39816%2012.4688%203.80664L14.4971%208.625C14.7155%209.14358%2015.2076%209.49471%2015.7676%209.53906L21.0332%209.95605C21.4909%209.99232%2021.6545%2010.5412%2021.3242%2010.8213L17.3115%2014.2168C16.8819%2014.5804%2016.6919%2015.1542%2016.8242%2015.7021L18.0508%2020.7783C18.1502%2021.1902%2017.6892%2021.5518%2017.291%2021.3115H17.29L12.7832%2018.5918C12.3023%2018.3016%2011.6977%2018.3016%2011.2168%2018.5918L6.70898%2021.3115C6.31078%2021.5518%205.84983%2021.1902%205.94922%2020.7783L7.17578%2015.7021C7.30809%2015.1543%207.11814%2014.5805%206.68848%2014.2168L2.67578%2010.8213C2.34544%2010.5412%202.5091%209.99231%202.9668%209.95605L8.23242%209.53906C8.79243%209.49471%209.28456%209.14369%209.50293%208.625L11.5312%203.80664Z'%20fill='url(%23paint0_linear_8242_16266)'%20stroke='%2302060A'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_8242_16266'%20x1='2'%20y1='12.3716'%20x2='22'%20y2='12.3716'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0.5'%20stop-color='%2302060A'/%3e%3cstop%20offset='0.5'%20stop-color='%2302060A'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",import.meta.url).href;function $e(){document.querySelectorAll(".story-rating").forEach(e=>{if(e.dataset.inited)return;const t=Number(e.dataset.rate)||0;new le(e,{readOnly:!0,score:t,half:!0,starOn:xe,starOff:Ie,starHalf:qe}).init(),e.dataset.inited="true"})}function Oe({rate:e,description:t,author:o}){return`
    <div class="swiper-slide story-card">
      <div class="story-rating rating" data-rate="${e}" aria-label="Оцінка ${e} з 5"></div>
      <p class="story-text">${t}</p>
      <p class="story-author">${o}</p>
    </div>
  `}let T=null;function Re(){T||(T=new N(".success-stories-swiper",{modules:[j,U],slidesPerView:1,slidesGroup:2,speed:500,autoHeight:!0,pagination:{el:".slider-pagination",clickable:!0,bulletClass:"dot",bulletActiveClass:"active"},navigation:{nextEl:".slider-btn--next",prevEl:".slider-btn--prev",disabledClass:"is-disabled"},breakpoints:{768:{slidesPerView:2,spaceBetween:32},1440:{slidesPerView:2,spaceBetween:32}}}))}async function He(){try{const e=await Be({page:1,limit:5}),t=e?.results||e?.feedbacks||e?.data?.results||[];if(!Array.isArray(t)||t.length===0){console.error("No feedbacks found");return}if(!v)return;v.innerHTML="",t.forEach(o=>{v.insertAdjacentHTML("beforeend",Oe(o))}),$e(),Re()}catch(e){console.error("Failed to load feedbacks:",e)}}He();const ee="https://paw-hut.b.goit.study/api/",Pe="categories",Te="animals",te=window.matchMedia("(min-width: 1440px)"),_e=document.querySelector(".categories-list"),f=document.querySelector(".animals-list"),ne=document.querySelector(".categories-list"),u=document.querySelector(".loadmore-btn"),Ne=document.querySelector(".categories-text"),oe=document.querySelector("span");function ae(){oe.classList.remove("hidden")}function A(){oe.classList.add("hidden")}function y(){u.classList.remove("hidden")}function O(){u.classList.add("hidden")}O();async function je(){const{data:e}=await D(`${ee}${Pe}`);return e}je().then(e=>{_e.insertAdjacentHTML("beforeend",Ue(e))});function Ue(e){return e.toSorted((o,n)=>o._id.localeCompare(n._id)).map(({name:o,_id:n})=>`<li class="categories-item"><div class="categories-text" data-id="${n}" >${o}</div></li>`).join("")}let w=1,B=0,x=null;function re(e){return e.matches?B=9:B=8}te.addEventListener("change",re);re(te);async function R(){const{data:e}=await D(`${ee}${Te}`,{params:{page:w,limit:B,categoryId:x}});return e}R().then(e=>{f.insertAdjacentHTML("beforeend",H(e.animals)),y()}).catch(e=>d.error({message:"Упс, щось пішло не так. Спробуйте ще раз!",position:"topRight",color:"red"}));const ie=new Map;function H(e){return e.forEach(t=>{ie.set(t._id,t)}),e.map(({_id:t,image:o,name:n,species:a,categories:r,age:i,gender:s,behavior:l})=>`<li class="animals-item"><img class="animals-img" src="${o}" alt="${a}"/><div class="animals-item-container"><p class="animals-subtitle">${a}</p><h2 class="animals-title">${n}</h2><div class="animals-sublist">${r.map(({name:m})=>`<h3 class="animals-categories">${m}</h3>`).join("")}</div><div class="animals-textlist"><p class="animals-subtitle">${i}</p><p class="animals-subtitle">${s}</p></div>
          <p class="animals-text">${l}</p></div>

          <button type= "button" class="animals-btn" data-animal-id="${t}">Дізнатись більше</button></li>`).join("")}f.addEventListener("click",e=>{if(e.target.classList.contains("animals-btn")){const t=e.target.dataset.animalId;t&&Me(t,ie)}});u.addEventListener("click",De);async function De(e){w++,O(),ae();try{const t=await R(w);if(t&&t.animals.length>0){f.insertAdjacentHTML("beforeend",H(t.animals));const a=document.querySelector(".animals-item").getBoundingClientRect().height;window.scrollBy({left:0,top:a*.6,behavior:"smooth"}),e.target.blur(),A(),y()}f.children.length>=t.totalItems&&(u.disabled=!0,u.classList.add("disabled"),d.info({message:"Всі хвостики вже тут",position:"topRight",color:"green"}))}catch{d.error({message:"Упс, щось пішло не так. Спробуйте ще раз!",position:"topRight",color:"red"})}}ne.addEventListener("click",Xe);async function Xe(e){if(e.preventDefault(),O(),ae(),w=1,u.disabled=!1,u.classList.remove("disabled"),e.target!==e.currentTarget){f.innerHTML="",Ne.classList.remove("active"),ne.querySelectorAll(".active").forEach(o=>{o.classList.remove("active")}),e.target.classList.add("active"),x=e.target.dataset.id;try{const o=await R(x);f.insertAdjacentHTML("beforeend",H(o.animals)),A(),y()}catch{d.error({message:"Упс, щось пішло не так. Спробуйте ще раз!",position:"topRight",color:"red"}),A(),y()}}}const _=document.querySelector(".footer");_&&_.querySelectorAll('a[href^="#"]:not([href="#"])').forEach(t=>{t.addEventListener("click",o=>{o.preventDefault();const n=t.getAttribute("href").slice(1),a=document.getElementById(n);$(a)})});function Fe(e){return Y("/api/orders",{method:"POST",body:JSON.stringify(e)})}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("[data-order-backdrop]"),t=document.querySelector("[data-order-modal]"),o=document.querySelector(".order-modal__close"),n=document.getElementById("orderForm"),a=document.getElementById("pets-list-section");if(!e||!t||!o||!n||!a)return;let r=null;function i(){window.removeEventListener("keydown",l),e.removeEventListener("click",m)}function s(){e.classList.remove("is-open"),q(),n.reset(),r=null,i()}function l(c){c.key==="Escape"&&e.classList.contains("is-open")&&s()}function m(c){c.target===e&&s()}function b(){window.addEventListener("keydown",l),e.addEventListener("click",m)}function C(c){r=c,e.classList.add("is-open"),I(),b()}o.addEventListener("click",s),n.addEventListener("submit",async c=>{c.preventDefault();const k=n.name.value.trim(),S=n.phone.value.trim().replace(/\D/g,""),se=n.comment.value.trim();if(!k||!S){d.error({message:"Заповніть обовʼязкові поля",position:"topRight"});return}if(S.length!==12){d.error({message:"Телефон має формат 380XXXXXXXXX",position:"topRight"});return}if(!r){d.error({message:"Не обрано тварину",position:"topRight"});return}try{await Fe({name:k,phone:S,comment:se,animalId:r}),d.success({message:"Заявку надіслано",position:"topRight"}),s()}catch(ce){d.error({message:ce.message||"Помилка сервера",position:"topRight"})}}),window.openOrderModal=C});
//# sourceMappingURL=index.js.map
