import{A as ae,R as ie,i as c,a as T}from"./assets/vendor-Cm8rJCJX.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function A(){document.body.style.overflow="hidden"}function x(){document.body.style.overflow=""}function re(e,t=0){if(!e)return;const n=e.getBoundingClientRect().top+window.scrollY-t;window.scrollTo({top:n,behavior:"smooth"})}const l={burgerBtn:document.querySelector(".header-burger-btn"),modalMenu:document.querySelector(".header-modal-menu"),closeBtn:document.querySelector(".header-close-btn"),modalLinks:document.querySelectorAll(".header-modal-link"),modalBtn:document.querySelector(".header-modal-btn"),header:document.querySelector(".header")};function se(){l.modalMenu.classList.contains("is-open")||(l.modalMenu.classList.add("is-open"),A(),ce())}function g(){l.modalMenu.classList.contains("is-open")&&(l.modalMenu.classList.remove("is-open"),x(),le())}function ce(){document.addEventListener("keydown",_),document.addEventListener("click",j)}function le(){document.removeEventListener("keydown",_),document.removeEventListener("click",j)}function _(e){e.key==="Escape"&&g()}function j(e){const t=e.target.closest(".header-modal-link"),n=e.target.closest(".header-modal-btn"),i=e.target.closest(".icon-header-btn");(t||n||i)&&g();const o=e.target.closest('a[href^="#"]');if(!o)return;const a=o.getAttribute("href");if(a==="#")return;const r=document.querySelector(a);if(!r)return;e.preventDefault();const m=l.header?.offsetHeight||0;re(r,m),g()}l.burgerBtn?.addEventListener("click",se);l.closeBtn?.addEventListener("click",g);const de=window.matchMedia("(min-width: 1440px)");de.addEventListener("change",e=>{e.matches&&g()});new ae(".faq-list",{duration:300,showMultiple:!1,openOnInit:[]});function R(e){const t=window.innerWidth<768;e.params.navigation.nextEl=t?".about-mob-next":".about-desk-next",e.params.navigation.prevEl=t?".about-mob-prev":".about-desk-prev",e.navigation.destroy(),e.navigation.init(),e.navigation.update(),e.params.pagination.el=t?".about-mob-pagination":".about-desk-pagination",e.pagination.destroy(),e.pagination.init(),e.pagination.render(),e.pagination.update()}new Swiper(".about-swiper",{slidesPerView:1,spaceBetween:0,speed:600,navigation:{nextEl:".about-mob-next",prevEl:".about-mob-prev"},pagination:{el:".about-mob-pagination",clickable:!0},grabCursor:!0,allowTouchMove:!0,watchOverflow:!0,breakpoints:{768:{},1440:{}},on:{init(e){R(e)},breakpoint(e){R(e)}}});const u=document.getElementById("petModalBackdrop"),U=document.getElementById("petModalContainer"),E=document.getElementById("modalCloseBtn"),N=document.querySelectorAll("[data-modal-adopt]"),H=document.getElementById("modalImageWrapper");document.getElementById("modalImage");const me=document.getElementById("modalSpecies"),ue=document.getElementById("modalName"),pe=document.getElementById("modalAge"),ge=document.getElementById("modalGender"),fe=document.getElementById("modalDescription"),he=document.getElementById("modalHealth"),ve=document.getElementById("modalBehavior");let k=null;function X(e){e.target===u&&f()}function D(e){e.stopPropagation()}function G(e){e.key==="Escape"&&!u.classList.contains("hidden")&&f()}function F(){f(),console.log("Opening adoption form for animal:",k),openOrderModal(k)}function Le(e,t){const n=t.get(e);if(!n){console.error("Animal not found:",e);return}k=e,H.replaceChildren();const i=[n].map(({image:o,name:a})=>`
        <img
          class="modal-image"
          src="${o}"
          alt="${a}"
          loading="lazy"
        />
      `).join("");H.insertAdjacentHTML("afterbegin",i),me.textContent=n.species,ue.textContent=n.name,pe.textContent=n.age,ge.textContent=n.gender,fe.textContent=n.description||"Інформація відсутня",he.textContent=n.healthStatus||"Інформація про здоров'я відсутня",ve.textContent=n.behavior||"Інформація про поведінку відсутня",u.classList.remove("hidden"),document.body.classList.add("modal-open"),E.focus(),A(),E.addEventListener("click",f),u.addEventListener("click",X),U.addEventListener("click",D),document.addEventListener("keydown",G),N.forEach(o=>{o.addEventListener("click",F)})}function f(){u.classList.add("hidden"),document.body.classList.remove("modal-open"),E.removeEventListener("click",f),u.removeEventListener("click",X),U.removeEventListener("click",D),document.removeEventListener("keydown",G),N.forEach(e=>{e.removeEventListener("click",F)}),x()}const ye="https://paw-hut.b.goit.study";async function V(e,t={}){const n=await fetch(`${ye}${e}`,{headers:{"Content-Type":"application/json"},...t});if(!n.ok){const i=await n.json().catch(()=>({}));throw new Error(i.message||"API error")}return n.json()}function we({page:e=1,limit:t=10}={}){return V(`/api/feedbacks?page=${e}&limit=${t}`)}const C=document.getElementById("stories-list");C||console.error("Element #stories-list not found");const be=new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.0709%203.61234C11.4146%202.79588%2012.5854%202.79589%2012.9291%203.61235L14.9579%208.43123C15.1029%208.77543%2015.4306%209.01061%2015.8067%209.0404L21.0727%209.45748C21.9649%209.52814%2022.3267%2010.6281%2021.6469%2011.2034L17.6348%2014.5987C17.3482%2014.8412%2017.223%2015.2218%2017.3106%2015.5843L18.5363%2020.661C18.744%2021.5211%2017.7969%2022.201%2017.033%2021.7401L12.5245%2019.0196C12.2025%2018.8252%2011.7975%2018.8252%2011.4755%2019.0196L6.96699%2021.7401C6.20311%2022.201%205.25596%2021.5211%205.46363%2020.661L6.68942%2015.5843C6.77698%2015.2218%206.65182%2014.8412%206.36526%2014.5987L2.35306%2011.2034C1.67328%2010.6281%202.03507%209.52814%202.92729%209.45748L8.19336%209.0404C8.5695%209.01061%208.89716%208.77543%209.04207%208.43123L11.0709%203.61234Z'%20fill='%2302060A'/%3e%3c/svg%3e",import.meta.url).href,Ee=new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.0078%204.00098L14.0361%208.81934C14.328%209.51225%2014.9837%209.97813%2015.7275%2010.0371L20.9854%2010.4531L16.9893%2013.835H16.9883C16.4157%2014.3197%2016.1618%2015.086%2016.3389%2015.8193L17.5615%2020.8848C17.5599%2020.8857%2017.5589%2020.8872%2017.5576%2020.8877C17.5559%2020.8869%2017.5532%2020.8858%2017.5498%2020.8838L13.041%2018.1631C12.4014%2017.7772%2011.5986%2017.7772%2010.959%2018.1631L6.4502%2020.8838C6.44677%2020.8858%206.4441%2020.8869%206.44238%2020.8877C6.44085%2020.8871%206.43936%2020.8859%206.4375%2020.8848L7.66113%2015.8193C7.8271%2015.1321%207.61431%2014.416%207.11523%2013.9297L7.01172%2013.835L3.01367%2010.4531L8.27246%2010.0371C9.01627%209.97814%209.67205%209.51246%209.96387%208.81934L11.9912%204.00098C11.9936%204.00054%2011.9966%204%2012%204C12.003%204%2012.0056%204.00062%2012.0078%204.00098Z'%20stroke='%2302060A'%20stroke-width='2'/%3e%3c/svg%3e",import.meta.url).href,ke=new URL("data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.5312%203.80664C11.7032%203.39816%2012.2968%203.39816%2012.4688%203.80664L14.4971%208.625C14.7155%209.14358%2015.2076%209.49471%2015.7676%209.53906L21.0332%209.95605C21.4909%209.99232%2021.6545%2010.5412%2021.3242%2010.8213L17.3115%2014.2168C16.8819%2014.5804%2016.6919%2015.1542%2016.8242%2015.7021L18.0508%2020.7783C18.1502%2021.1902%2017.6892%2021.5518%2017.291%2021.3115H17.29L12.7832%2018.5918C12.3023%2018.3016%2011.6977%2018.3016%2011.2168%2018.5918L6.70898%2021.3115C6.31078%2021.5518%205.84983%2021.1902%205.94922%2020.7783L7.17578%2015.7021C7.30809%2015.1543%207.11814%2014.5805%206.68848%2014.2168L2.67578%2010.8213C2.34544%2010.5412%202.5091%209.99231%202.9668%209.95605L8.23242%209.53906C8.79243%209.49471%209.28456%209.14369%209.50293%208.625L11.5312%203.80664Z'%20fill='url(%23paint0_linear_8242_16266)'%20stroke='%2302060A'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_8242_16266'%20x1='2'%20y1='12.3716'%20x2='22'%20y2='12.3716'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0.5'%20stop-color='%2302060A'/%3e%3cstop%20offset='0.5'%20stop-color='%2302060A'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",import.meta.url).href;function Ce(){document.querySelectorAll(".story-rating").forEach(e=>{if(e.dataset.inited)return;const t=Number(e.dataset.rate)||0;new ie(e,{readOnly:!0,score:t,half:!0,starOn:be,starOff:Ee,starHalf:ke}).init(),e.dataset.inited="true"})}function Me({rate:e,description:t,author:n}){return`
    <li class="swiper-slide story-card">
      <div class="story-rating rating" data-rate="${e}"  aria-label="Оцінка ${e} з 5"></div>
      <p class="story-text">${t}</p>
      <p class="story-author">${n}</p>
    </li>
  `}let P=null;function Se(){if(P)return;const e=window.Swiper||Swiper;if(!e){console.error("Swiper is not available. Add Swiper via <script> or install via npm.");return}P=new e(".success-stories-swiper",{slidesPerView:1,slidesGroup:2,speed:500,autoHeight:!0,pagination:{el:".slider-pagination",clickable:!0,bulletClass:"dot",bulletActiveClass:"active"},navigation:{nextEl:".slider-btn--next",prevEl:".slider-btn--prev",disabledClass:"is-disabled"},breakpoints:{768:{slidesPerView:2,spaceBetween:32},1440:{slidesPerView:2,spaceBetween:32}}})}async function Be(){try{const e=await we({page:1,limit:10}),t=e?.results||e?.feedbacks||e?.data?.results||[];if(!Array.isArray(t)||t.length===0){console.error("No feedbacks found");return}C.innerHTML="",t.forEach(n=>{C.insertAdjacentHTML("beforeend",Me(n))}),Ce(),Se()}catch(e){console.error("Failed to load feedbacks:",e)}}Be();const K="https://paw-hut.b.goit.study/api/",Ae="categories",xe="animals",W=window.matchMedia("(min-width: 1440px)"),Ie=document.querySelector(".categories-list"),p=document.querySelector(".animals-list"),Z=document.querySelector(".categories-list"),d=document.querySelector(".loadmore-btn"),$e=document.querySelector(".categories-text"),z=document.querySelector("span");function Q(){z.classList.remove("hidden")}function M(){z.classList.add("hidden")}function v(){d.classList.remove("hidden")}function I(){d.classList.add("hidden")}I();async function Oe(){const{data:e}=await T(`${K}${Ae}`);return e}Oe().then(e=>{Ie.insertAdjacentHTML("beforeend",qe(e))});function qe(e){return e.toSorted((n,i)=>n._id.localeCompare(i._id)).map(({name:n,_id:i})=>`<li class="categories-item"><div class="categories-text" data-id="${i}" >${n}</div></li>`).join("")}let L=1,S=0,B=null;function J(e){return e.matches?S=9:S=8}W.addEventListener("change",J);J(W);async function $(){const{data:e}=await T(`${K}${xe}`,{params:{page:L,limit:S,categoryId:B}});return e}$().then(e=>{p.insertAdjacentHTML("beforeend",O(e.animals)),v()}).catch(e=>c.error({message:"Упс, щось пішло не так. Спробуйте ще раз!",position:"topRight",color:"red"}));const Y=new Map;function O(e){return e.forEach(t=>{Y.set(t._id,t)}),e.map(({_id:t,image:n,name:i,species:o,categories:a,age:r,gender:m,behavior:y})=>`<li class="animals-item"><img class="animals-img" src="${n}" alt="${o}"/><div class="animals-item-container"><p class="animals-subtitle">${o}</p><h2 class="animals-title">${i}</h2><div class="animals-sublist">${a.map(({name:w})=>`<h3 class="animals-categories">${w}</h3>`).join("")}</div><div class="animals-textlist"><p class="animals-subtitle">${r}</p><p class="animals-subtitle">${m}</p></div>
          <p class="animals-text">${y}</p></div>

          <button type= "button" class="animals-btn" data-animal-id="${t}">Дізнатись більше</button></li>`).join("")}p.addEventListener("click",e=>{if(e.target.classList.contains("animals-btn")){const t=e.target.dataset.animalId;t&&Le(t,Y)}});d.addEventListener("click",Re);async function Re(e){L++,I(),Q();try{const t=await $(L);if(t&&t.animals.length>0){p.insertAdjacentHTML("beforeend",O(t.animals));const o=document.querySelector(".animals-item").getBoundingClientRect().height;window.scrollBy({left:0,top:o*.6,behavior:"smooth"}),e.target.blur(),M(),v()}p.children.length>=t.totalItems&&(d.disabled=!0,d.classList.add("disabled"),c.info({message:"Всі хвостики вже тут",position:"topRight",color:"green"}))}catch{c.error({message:"Упс, щось пішло не так. Спробуйте ще раз!",position:"topRight",color:"red"})}}Z.addEventListener("click",He);async function He(e){if(e.preventDefault(),I(),Q(),L=1,d.disabled=!1,d.classList.remove("disabled"),e.target!==e.currentTarget){p.innerHTML="",$e.classList.remove("active"),Z.querySelectorAll(".active").forEach(n=>{n.classList.remove("active")}),e.target.classList.add("active"),B=e.target.dataset.id;try{const n=await $(B);p.insertAdjacentHTML("beforeend",O(n.animals)),M(),v()}catch{c.error({message:"Упс, щось пішло не так. Спробуйте ще раз!",position:"topRight",color:"red"}),M(),v()}}}function Pe(e){return V("/api/orders",{method:"POST",body:JSON.stringify(e)})}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("[data-order-backdrop]"),t=document.querySelector("[data-order-modal]"),n=document.querySelector(".order-modal__close"),i=document.getElementById("orderForm"),o=document.getElementById("pets-list-section");if(!e||!t||!i||!o)return;let a=null;function r(s){s.key==="Escape"&&closeOrderModal()}function m(s){s.target===e&&closeOrderModal()}function y(){window.addEventListener("keydown",r),e.addEventListener("click",m)}function w(){window.removeEventListener("keydown",r),e.removeEventListener("click",m)}function ee(s){a=s,e.classList.add("is-open"),A(),y()}function h(){e.classList.remove("is-open"),x(),i.reset(),a=null,w()}n.addEventListener("click",h),e.addEventListener("click",s=>{s.target===e&&h()}),window.addEventListener("keydown",s=>{s.key==="Escape"&&e.classList.contains("is-open")&&h()}),i.addEventListener("submit",async s=>{s.preventDefault();const q=i.name.value.trim(),b=i.phone.value.trim().replace(/\D/g,""),te=i.comment.value.trim();if(!q||!b){c.error({message:"Заповніть обовʼязкові поля",position:"topRight"});return}if(b.length!==12){c.error({message:"Телефон має формат 380XXXXXXXXX",position:"topRight"});return}if(!a){c.error({message:"Не обрано тварину",position:"topRight"});return}const ne={name:q,phone:b,comment:te,animalId:a};try{await Pe(ne),c.success({message:"Заявку надіслано",position:"topRight"}),h()}catch(oe){c.error({message:oe.message||"Помилка сервера",position:"topRight"})}}),window.openOrderModal=ee});
//# sourceMappingURL=index.js.map
