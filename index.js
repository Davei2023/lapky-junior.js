import{A as B,i as u,a as b}from"./assets/vendor-BV-8v0lm.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(t){if(t.ep)return;t.ep=!0;const i=n(t);fetch(t.href,i)}})();function T(){document.body.style.overflow="hidden"}function L(){document.body.style.overflow=""}function R(e,o=0){if(!e)return;const n=e.getBoundingClientRect().top+window.scrollY-o;window.scrollTo({top:n,behavior:"smooth"})}const s={burgerBtn:document.querySelector(".header-burger-btn"),modalMenu:document.querySelector(".header-modal-menu"),closeBtn:document.querySelector(".header-close-btn"),modalLinks:document.querySelectorAll(".header-modal-link"),modalBtn:document.querySelector(".header-modal-btn"),header:document.querySelector(".header")};function O(){s.modalMenu.classList.add("is-open"),T()}function d(){s.modalMenu.classList.remove("is-open"),L()}s.burgerBtn.addEventListener("click",O);s.closeBtn.addEventListener("click",d);document.addEventListener("keydown",e=>{e.key==="Escape"&&s.modalMenu.classList.contains("is-open")&&d()});s.modalLinks.forEach(e=>{e.addEventListener("click",d)});s.modalBtn.addEventListener("click",d);const x=window.matchMedia("(min-width: 1440px)");x.addEventListener("change",e=>{e.matches&&d()});document.addEventListener("click",e=>{e.target.closest(".icon-header-btn")&&(s.modalMenu?.classList.remove("is-open"),L())});document.addEventListener("click",e=>{const o=e.target.closest('a[href^="#"]');if(!o)return;const n=o.getAttribute("href");if(n==="#")return;const r=document.querySelector(n);if(!r)return;e.preventDefault();const t=s.header?.offsetHeight||0;R(r,t),L()});new B(".faq-list",{duration:300,showMultiple:!1,openOnInit:[]});new Swiper(".swiper",{slidesPerView:1,spaceBetween:0,speed:600,navigation:{nextEl:".about-arrow-right",prevEl:".about-arrow-left"},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{375:{slidesPerView:1},768:{slidesPerView:1},1440:{slidesPerView:1}},grabCursor:!0,allowTouchMove:!0,watchOverflow:!0});const S="https://paw-hut.b.goit.study/api/",P="categories",j="animals",k=window.matchMedia("(min-width: 1440px)"),H=document.querySelector(".categories-list"),l=document.querySelector(".animals-list"),M=document.querySelector(".categories-list"),a=document.querySelector(".loadmore-btn"),I=document.querySelector(".categories-text"),A=document.querySelector("span");function E(){A.classList.remove("hidden")}function h(){A.classList.add("hidden")}function m(){a.classList.remove("hidden")}function v(){a.classList.add("hidden")}v();async function _(){const{data:e}=await b(`${S}${P}`);return e}_().then(e=>{H.insertAdjacentHTML("afterbegin",N(e))});function N(e){return e.toSorted((n,r)=>r._id.localeCompare(n._id)).map(({name:n,_id:r})=>`<li class="categories-item"><div class="categories-text" data-id="${r}" >${n}</div></li>`).join("")}let f=1,p=0,g=null;function q(e){return e.matches?p=9:p=8}k.addEventListener("change",q);q(k);async function y(){const{data:e}=await b(`${S}${j}`,{params:{page:f,limit:p,categoryId:g}});return e}y().then(e=>{l.insertAdjacentHTML("beforeend",w(e.animals)),m()}).catch(e=>u.error({message:"Упс, щось пішло не так. Спробуйте ще раз!",position:"topRight",color:"red"}));function w(e){return e.map(({image:o,name:n,species:r,categories:t,age:i,gender:c,behavior:C})=>`<li class="animals-item"><img class="animals-img" src="${o}" alt="${r}"/><div class="animals-item-container"><p class="animals-subtitle">${r}</p><h2 class="animals-title">${n}</h2><div class="animals-sublist">${t.map(({name:$})=>`<h3 class="animals-categories">${$}</h3>`).join("")}</div><div class="animals-textlist"><p class="animals-subtitle">${i}</p><p class="animals-subtitle">${c}</p></div>
          <p class="animals-text">${C}</p></div>
          
          <button class="animals-btn">Дізнатись більше</button></li>`).join("")}a.addEventListener("click",V);async function V(e){f++,v(),E();try{const o=await y(f);if(o&&o.animals.length>0){l.insertAdjacentHTML("beforeend",w(o.animals));const t=document.querySelector(".animals-item").getBoundingClientRect().height;window.scrollBy({left:0,top:t*.6,behavior:"smooth"}),e.target.blur(),h(),m()}l.children.length>=o.totalItems&&(a.disabled=!0,a.classList.add("disabled"),u.info({message:"Всі хвостики вже тут",position:"topRight",color:"green"}))}catch{u.error({message:"Упс, щось пішло не так. Спробуйте ще раз!",position:"topRight",color:"red"})}}M.addEventListener("click",D);async function D(e){if(e.preventDefault(),v(),E(),f=1,a.disabled=!1,a.classList.remove("disabled"),e.target!==e.currentTarget){l.innerHTML="",I.classList.remove("active"),M.querySelectorAll(".active").forEach(n=>{n.classList.remove("active")}),e.target.classList.add("active"),g=e.target.dataset.id;try{const n=await y(g);l.insertAdjacentHTML("beforeend",w(n.animals)),h(),m()}catch{u.error({message:"Упс, щось пішло не так. Спробуйте ще раз!",position:"topRight",color:"red"}),h(),m()}}}
//# sourceMappingURL=index.js.map
