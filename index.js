import{A as q,i as u,a as L}from"./assets/vendor-BV-8v0lm.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}})();const a={burgerBtn:document.querySelector(".header-burger-btn"),modalMenu:document.querySelector(".header-modal-menu"),closeBtn:document.querySelector(".header-close-btn"),modalLinks:document.querySelectorAll(".header-modal-link"),modalBtn:document.querySelector(".header-modal-btn"),header:document.querySelector(".header")};function $(){a.modalMenu.classList.add("is-open"),document.body.style.overflow="hidden"}function d(){a.modalMenu.classList.remove("is-open"),document.body.style.overflow=""}a.burgerBtn.addEventListener("click",$);a.closeBtn.addEventListener("click",d);document.addEventListener("keydown",e=>{e.key==="Escape"&&a.modalMenu.classList.contains("is-open")&&d()});a.modalLinks.forEach(e=>{e.addEventListener("click",d)});a.modalBtn.addEventListener("click",d);const C=window.matchMedia("(min-width: 1440px)");C.addEventListener("change",e=>{e.matches&&d()});document.addEventListener("click",e=>{e.target.closest(".icon-header-btn")&&(a.modalMenu?.classList.remove("is-open"),document.body.style.overflow="")});a.header.addEventListener("click",e=>{const o=e.target.closest('a[href^="#"]');if(!o)return;const n=o.getAttribute("href"),i=document.querySelector(n);if(!i)return;e.preventDefault();const t=a.header.offsetHeight,r=i.getBoundingClientRect().top+window.scrollY-t;window.scrollTo({top:r,behavior:"smooth"})});new q(".faq-list",{duration:300,showMultiple:!1,openOnInit:[]});new Swiper(".aboutSwiper",{slidesPerView:1,navigation:{nextEl:".about-arrow-right",prevEl:".about-arrow-left"},pagination:{el:".aboutPagination",clickable:!0}});const v="https://paw-hut.b.goit.study/api/",B="categories",R="animals",b=window.matchMedia("(min-width: 1440px)"),T=document.querySelector(".categories-list"),c=document.querySelector(".animals-list"),w=document.querySelector(".categories-list"),l=document.querySelector(".loadmore-btn"),x=document.querySelector(".categories-text"),M=document.querySelector("span");function S(){M.classList.remove("hidden")}function f(){M.classList.add("hidden")}async function O(){const{data:e}=await L(`${v}${B}`);return e}O().then(e=>{T.insertAdjacentHTML("afterbegin",j(e))});function j(e){return e.toSorted((n,i)=>i._id.localeCompare(n._id)).map(({name:n,_id:i})=>`<li class="categories-item"><div class="categories-text" data-id="${i}" >${n}</div></li>`).join("")}let m=1,g=0,h=null;function A(e){return e.matches?g=9:g=8}b.addEventListener("change",A);A(b);async function p(){const{data:e}=await L(`${v}${R}`,{params:{page:m,limit:g,categoryId:h}});return e}p().then(e=>{c.insertAdjacentHTML("beforeend",y(e.animals))}).catch(e=>u.error({message:"Упс, щось пішло не так. Спробуйте ще раз!",position:"topRight",color:"red"}));function y(e){return e.map(({image:o,name:n,species:i,categories:t,age:r,gender:s,behavior:E})=>`<li class="animals-item"><img class="animals-img" src="${o}" alt="${i}"/><div class="animals-item-container"><p class="animals-subtitle">${i}</p><h2 class="animals-title">${n}</h2><div class="animals-sublist">${t.map(({name:k})=>`<h3 class="animals-categories">${k}</h3>`).join("")}</div><div class="animals-textlist"><p class="animals-subtitle">${r}</p><p class="animals-subtitle">${s}</p></div>
          <p class="animals-text">${E}</p></div>
          
          <button class="animals-btn">Дізнатись більше</button></li>`).join("")}l.addEventListener("click",H);async function H(e){m++,S();try{const o=await p(m);if(o&&o.animals.length>0){c.insertAdjacentHTML("beforeend",y(o.animals));const t=document.querySelector(".animals-item").getBoundingClientRect().height;window.scrollBy({left:0,top:t*.6,behavior:"smooth"}),e.target.blur(),f()}c.children.length>=o.totalItems&&(l.disabled=!0,l.classList.add("disabled"),u.info({message:"Всі хвостики вже тут",position:"topRight",color:"green"}))}catch{u.error({message:"Упс, щось пішло не так. Спробуйте ще раз!",position:"topRight",color:"red"})}}w.addEventListener("click",I);async function I(e){if(e.preventDefault(),S(),x.classList.remove("active"),w.querySelectorAll(".active").forEach(n=>{n.classList.remove("active")}),m=1,l.disabled=!1,l.classList.remove("disabled"),e.target.classList.add("active"),e.target!==e.currentTarget){c.innerHTML="",h=e.target.dataset.id;try{const n=await p(h);c.insertAdjacentHTML("beforeend",y(n.animals)),f()}catch{u.error({message:"Упс, щось пішло не так. Спробуйте ще раз!",position:"topRight",color:"red"}),f()}}}
//# sourceMappingURL=index.js.map
