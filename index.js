import{A as D,i as u,a as B}from"./assets/vendor-BV-8v0lm.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();function P(){document.body.style.overflow="hidden"}function v(){document.body.style.overflow=""}function j(e,o=0){if(!e)return;const t=e.getBoundingClientRect().top+window.scrollY-o;window.scrollTo({top:t,behavior:"smooth"})}const i={burgerBtn:document.querySelector(".header-burger-btn"),modalMenu:document.querySelector(".header-modal-menu"),closeBtn:document.querySelector(".header-close-btn"),modalLinks:document.querySelectorAll(".header-modal-link"),modalBtn:document.querySelector(".header-modal-btn"),header:document.querySelector(".header")};function N(){i.modalMenu.classList.add("is-open"),P()}function m(){i.modalMenu.classList.remove("is-open"),v()}i.burgerBtn.addEventListener("click",N);i.closeBtn.addEventListener("click",m);document.addEventListener("keydown",e=>{e.key==="Escape"&&i.modalMenu.classList.contains("is-open")&&m()});i.modalLinks.forEach(e=>{e.addEventListener("click",m)});i.modalBtn.addEventListener("click",m);const _=window.matchMedia("(min-width: 1440px)");_.addEventListener("change",e=>{e.matches&&m()});document.addEventListener("click",e=>{e.target.closest(".icon-header-btn")&&(i.modalMenu?.classList.remove("is-open"),v())});document.addEventListener("click",e=>{const o=e.target.closest('a[href^="#"]');if(!o)return;const t=o.getAttribute("href");if(t==="#")return;const s=document.querySelector(t);if(!s)return;e.preventDefault();const n=i.header?.offsetHeight||0;j(s,n),v()});new D(".faq-list",{duration:300,showMultiple:!1,openOnInit:[]});new Swiper(".about-swiper",{slidesPerView:1,spaceBetween:0,speed:600,navigation:{nextEl:".about-arrow-right",prevEl:".about-arrow-left"},pagination:{el:".swiper-pagination",clickable:!0},grabCursor:!0,allowTouchMove:!0,watchOverflow:!0});const l=document.getElementById("petModalBackdrop"),U=document.getElementById("petModalContainer"),M=document.getElementById("modalCloseBtn"),F=document.querySelectorAll("[data-modal-adopt]"),k=document.getElementById("modalImage"),G=document.getElementById("modalSpecies"),Q=document.getElementById("modalName"),z=document.getElementById("modalAge"),K=document.getElementById("modalGender"),V=document.getElementById("modalDescription"),Y=document.getElementById("modalHealth"),J=document.getElementById("modalBehavior");let S=null;function W(e,o){const t=o.get(e);if(!t){console.error("Animal not found:",e);return}S=e,k.src=t.image,k.alt=t.name,G.textContent=t.species,Q.textContent=t.name,z.textContent=t.age,K.textContent=t.gender,V.textContent=t.description||"Інформація відсутня",Y.textContent=t.healthStatus||"Інформація про здоров'я відсутня",J.textContent=t.behavior||"Інформація про поведінку відсутня",l.classList.remove("hidden"),document.body.classList.add("modal-open"),M.focus()}function g(){l.classList.add("hidden"),document.body.classList.remove("modal-open")}M.addEventListener("click",g);l.addEventListener("click",e=>{e.target===l&&g()});U.addEventListener("click",e=>{e.stopPropagation()});document.addEventListener("keydown",e=>{e.key==="Escape"&&!l.classList.contains("hidden")&&g()});F.forEach(e=>{e.addEventListener("click",()=>{g(),console.log("Opening adoption form for animal:",S),openOrderModal()})});const A="https://paw-hut.b.goit.study/api/",X="categories",Z="animals",C=window.matchMedia("(min-width: 1440px)"),ee=document.querySelector(".categories-list"),d=document.querySelector(".animals-list"),q=document.querySelector(".categories-list"),c=document.querySelector(".loadmore-btn"),te=document.querySelector(".categories-text"),I=document.querySelector("span");function O(){I.classList.remove("hidden")}function h(){I.classList.add("hidden")}function p(){c.classList.remove("hidden")}function b(){c.classList.add("hidden")}b();async function oe(){const{data:e}=await B(`${A}${X}`);return e}oe().then(e=>{ee.insertAdjacentHTML("afterbegin",ne(e))});function ne(e){return e.toSorted((t,s)=>s._id.localeCompare(t._id)).map(({name:t,_id:s})=>`<li class="categories-item"><div class="categories-text" data-id="${s}" >${t}</div></li>`).join("")}let f=1,y=0,L=null;function $(e){return e.matches?y=9:y=8}C.addEventListener("change",$);$(C);async function E(){const{data:e}=await B(`${A}${Z}`,{params:{page:f,limit:y,categoryId:L}});return e}E().then(e=>{d.insertAdjacentHTML("beforeend",w(e.animals)),p()}).catch(e=>u.error({message:"Упс, щось пішло не так. Спробуйте ще раз!",position:"topRight",color:"red"}));const x=new Map;function w(e){return e.forEach(o=>{x.set(o._id,o)}),e.map(({_id:o,image:t,name:s,species:n,categories:a,age:r,gender:T,behavior:R})=>`<li class="animals-item"><img class="animals-img" src="${t}" alt="${n}"/><div class="animals-item-container"><p class="animals-subtitle">${n}</p><h2 class="animals-title">${s}</h2><div class="animals-sublist">${a.map(({name:H})=>`<h3 class="animals-categories">${H}</h3>`).join("")}</div><div class="animals-textlist"><p class="animals-subtitle">${r}</p><p class="animals-subtitle">${T}</p></div>
          <p class="animals-text">${R}</p></div>

          <button type= "button" class="animals-btn" data-animal-id="${o}">Дізнатись більше</button></li>`).join("")}d.addEventListener("click",e=>{if(e.target.classList.contains("animals-btn")){const o=e.target.dataset.animalId;o&&W(o,x)}});c.addEventListener("click",ae);async function ae(e){f++,b(),O();try{const o=await E(f);if(o&&o.animals.length>0){d.insertAdjacentHTML("beforeend",w(o.animals));const n=document.querySelector(".animals-item").getBoundingClientRect().height;window.scrollBy({left:0,top:n*.6,behavior:"smooth"}),e.target.blur(),h(),p()}d.children.length>=o.totalItems&&(c.disabled=!0,c.classList.add("disabled"),u.info({message:"Всі хвостики вже тут",position:"topRight",color:"green"}))}catch{u.error({message:"Упс, щось пішло не так. Спробуйте ще раз!",position:"topRight",color:"red"})}}q.addEventListener("click",se);async function se(e){if(e.preventDefault(),b(),O(),f=1,c.disabled=!1,c.classList.remove("disabled"),e.target!==e.currentTarget){d.innerHTML="",te.classList.remove("active"),q.querySelectorAll(".active").forEach(t=>{t.classList.remove("active")}),e.target.classList.add("active"),L=e.target.dataset.id;try{const t=await E(L);d.insertAdjacentHTML("beforeend",w(t.animals)),h(),p()}catch{u.error({message:"Упс, щось пішло не так. Спробуйте ще раз!",position:"topRight",color:"red"}),h(),p()}}}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("[data-order-backdrop]"),o=document.querySelector("[data-order-modal]"),t=document.querySelector("[data-order-close]"),s=document.querySelector("#orderForm");if(console.log({backdrop:e,modal:o,closeBtn:t,form:s}),!e||!o){console.error(" Order modal not found in DOM");return}function n(){e.classList.add("is-open"),document.body.classList.add("modal-open")}function a(){e.classList.remove("is-open"),document.body.classList.remove("modal-open"),s?.reset()}window.openOrderModal=n,t?.addEventListener("click",a),e.addEventListener("click",r=>{r.target===e&&a()}),window.addEventListener("keydown",r=>{r.key==="Escape"&&a()}),s?.addEventListener("submit",r=>{r.preventDefault(),alert("submit test"),a()}),document.addEventListener("click",r=>{r.target.closest(".modalAdoptBtn")&&n()})});
//# sourceMappingURL=index.js.map
